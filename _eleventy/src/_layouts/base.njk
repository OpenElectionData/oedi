<!DOCTYPE html>
<html lang="{{ locale }}" dir="{{ dir }}">
<head prefix="og: http://ogp.me/ns">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ title }} | {{ site.title }}</title>
  <link rel="shortcut icon" href="/assets/images/meta/favicon.png" type="image/x-icon" />
    <link rel="icon" href="/assets/images/meta/favicon.png" type="image/x-icon" />

  {# TODO: SEO meta tags #}
  <meta property="og:title" content="Global Network of Domestic Election Monitors" />
  <meta property="og:locale" content="{{ locale }}" />
  <meta name="description" content="{{ excerpt or site.description }}" />
  <meta property="og:description" content="{{ excerpt or site.description }}" />
  <link rel="canonical" href="{{ site.url }}" />
  <meta property="og:url" content="{{ site.url }}" />
  <meta property="og:site_name" content="{{ site.title }}" />
  {# <meta property="og:image" content="{{ site.logo | relative_url }}" /> #}

  <link
      href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,700;1,400&family=Raleway:wght@400;700&display=swap"
      rel="stylesheet">

  {%-if locale === 'my' -%}
  <link href="https://fonts.googleapis.com/css?family=Padauk" rel="stylesheet">
  {%-endif-%}

  <link rel="stylesheet" href="{{ site.url }}{{ '/_assets/css/main.css' }}" />

  {%- if dir === 'rtl' -%}
  <link rel="stylesheet" href="{{ site.url }}{{ '/_assets/css/main.rtl.css' }}" />
  {%- endif -%}

  {% block pageCSS %}{% endblock %}

  <link rel="stylesheet" href="{{ site.url }}{{ '/_assets/css/print.css' }}" />  

  <link type="application/atom+xml" rel="alternate" href="{{ site.url }}/feed.xml" title="{{ site.title }}">
  {% include 'components/google-analytics.njk' %}

  <script src="https://kit.fontawesome.com/bc58bc506e.js" crossorigin="anonymous"></script>
</head>
<body class="{{ ['layout-', layout].join('') }}">

  {% include 'header.njk' %}

  <main id="main" class="page-content" aria-label="Content">
    <div class="container">
      {{ content | safe }}
    </div>
  </main>
  {% include 'components/signup-dialog.njk' %}

  {% include 'footer.njk' %}

  {% if useTippy %}
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <script>
      window.addEventListener('DOMContentLoaded', () => {
        const tippyInstances = tippy('[data-tippy-content]');
        const singleton = tippy.createSingleton(tippyInstances, { delay: 500 });
      })
    </script>
  {% endif %}

  <script
    defer
    src="https://cdn.jsdelivr.net/npm/a11y-dialog@8/dist/a11y-dialog.min.js"
  ></script>
  <script src="{{site.url}}{{ "/_assets/js/bundle.js" }}" type="text/javascript"></script>

  {% block pageJS %}{% endblock %}

</body>
</html>